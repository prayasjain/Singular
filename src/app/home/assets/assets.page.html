<ion-header class="top-header">
  <!-- <ion-buttons horizontal="start" vertical="top">
    <ion-menu-button class="white" menu="mainMenu"></ion-menu-button>
  </ion-buttons> -->
  <!-- <ion-fab class="pointer white" horizontal="end" vertical="top">
    <ion-icon name="notifications-outline" class="assetsIcon"> </ion-icon>
  </ion-fab> -->
  <ion-title id="container" vertical="center">
    <!-- <div><button ion-button><ion-icon name="arrow-back"></ion-icon></button></div>-->
    <ion-item lines="none" style="max-width: 600px; margin-top: 50px; display: inline-flex;
    vertical-align: middle;">
      <button slot="start"  mat-icon-button [matMenuTriggerFor]="mainAssetMenu">
        <ion-icon class="icon" slot="icon-only" name="ellipsis-vertical"></ion-icon>
      </button>
      <mat-menu #mainAssetMenu="matMenu">
        <button mat-menu-item>
          View Archive
        </button>
        <button mat-menu-item disabled>
          Add New Sheet
        </button>
        <button mat-menu-item>
          Download Excel
        </button>
      </mat-menu>
      <ion-text slot="start" class="assetsTitle">
        Assets
      </ion-text>
      <ion-text slot="end" class="assetsData">
        {{totalAmount?.toLocaleString(currencyService.getLocaleForCurrency(
          currencyService.currency | async ), {style: 'currency', currency:
          currencyService.currency | async, maximumFractionDigits: 0,
          minimumFractionDigits: 0})}}
      </ion-text>
    </ion-item>
    <div class="assesstpageTitle">
      <ion-list class="list-horizontal">
        <ion-item button lines="none" class="ion-padding-start" *ngFor="let assetGroup of assetGroups; let i = index"
        (click)="changeCurrentSelectedAsset(assetGroup)"
        >
          <ion-label [ngClass]="currentAssetGroup.assetType !== assetGroup.assetType ? 'assetsSheet' : ''"> 
            <h3>{{assetGroup.assetType}}</h3>
            <h3>{{assetGroup.amount?.toLocaleString(currencyService.getLocaleForCurrency(
              currencyService.currency | async ), {style: 'currency', currency:
              currencyService.currency | async, maximumFractionDigits: 0,
              minimumFractionDigits: 0})}}</h3>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
  </ion-title>
</ion-header>

<ion-content >
  <div style="max-width: 85%; margin-left: 15%; padding-top: 30px;">
    <div class="col-lg-9">
      <ejs-grid #normalgrid id='Normalgrid' [dataSource]='data' allowPaging='true' [pageSettings]='pageSettings' [editSettings]='editSettings' [toolbar]='toolbar' (actionBegin)='actionBegin($event)'
      *ngIf="currentAssetGroup?.assetType === AssetType.Equity || currentAssetGroup?.assetType === AssetType.MutualFunds"
      (actionComplete)='updateGrid($event)'>
        <e-columns>
          <e-column field='id' headerText='Id' [visible]='false' isPrimaryKey='true'></e-column>
          <e-column field='name' headerText='Name' textAlign='Center'></e-column>
          <e-column field='change' headerText='Change' textAlign='Center'></e-column>
          <e-column field='units' headerText='Units' textAlign='Center'></e-column>
          <e-column field='totalcost' headerText='Total Cost' textAlign='Center'></e-column>
          <e-column field='currentprice' headerText='Current Price' textAlign='Center'></e-column>
          <e-column field='currentvalue' headerText='Current Value' textAlign='Center'></e-column>
        </e-columns>    
      </ejs-grid>
      <ejs-grid #normalgrid id='Normalgrid' [dataSource]='data' allowPaging='true' [pageSettings]='pageSettings' [editSettings]='editSettings' [toolbar]='toolbar' (actionBegin)='actionBegin($event)'
      *ngIf="currentAssetGroup?.assetType === AssetType.SavingsAccount || currentAssetGroup?.assetType === AssetType.RealEstate || currentAssetGroup?.assetType === AssetType.Others"
      (actionComplete)='updateGrid($event)'>
      <e-columns >
        <e-column field='id' headerText='Id' [visible]='false' isPrimaryKey='true'></e-column>
        <e-column field='name' headerText='Name' textAlign='Center'></e-column>
        <e-column field='change' headerText='Change' textAlign='Center'></e-column>
        <e-column field='totalcost' headerText='Total Cost' textAlign='Center'></e-column>
        <e-column field='currentvalue' headerText='Current Value' textAlign='Center'></e-column>
      </e-columns>    
      </ejs-grid>

      <ejs-grid #normalgrid id='Normalgrid' [dataSource]='data' allowPaging='true' [pageSettings]='pageSettings' [editSettings]='editSettings' [toolbar]='toolbar' (actionBegin)='actionBegin($event)'
      *ngIf="currentAssetGroup?.assetType === AssetType.Deposits"
      (actionComplete)='updateGrid($event)'>
      <e-columns >
        <e-column field='id' headerText='Id' [visible]='false' isPrimaryKey='true'></e-column>
        <e-column field='name' headerText='Name' textAlign='Center'></e-column>
        <e-column field='change' headerText='Change' textAlign='Center'></e-column>
        <e-column field='totalcost' headerText='Total Cost' textAlign='Center'></e-column>
        <e-column field='currentvalue' headerText='Current Value' textAlign='Center'></e-column>
        <e-column field='depositdate' headerText='Deposit Date' editType='datetimepickeredit' [format]='formatoptions' textAlign='Center'></e-column>
        <e-column field='maturitydate' headerText='Maturity Date' editType='datetimepickeredit' [format]='formatoptions' textAlign='Center'></e-column>
      </e-columns>   
      </ejs-grid>

      <ejs-grid #normalgrid id='Normalgrid' [dataSource]='data' allowPaging='true' [pageSettings]='pageSettings' [editSettings]='editSettings' [toolbar]='toolbar' (actionBegin)='actionBegin($event)'
      *ngIf="currentAssetGroup?.assetType === AssetType.Gold"
      (actionComplete)='updateGrid($event)'>
      <e-columns >
        <e-column field='id' headerText='Id' [visible]='false' isPrimaryKey='true'></e-column>
        <e-column field='name' headerText='Name' textAlign='Center'></e-column>
        <e-column field='change' headerText='Change' textAlign='Center'></e-column>
        <e-column field='units' headerText='Units' textAlign='Center'></e-column>
        <e-column field='totalcost' headerText='Total Cost' textAlign='Center'></e-column>
        <e-column field='currentvalue' headerText='Current Value' textAlign='Center'></e-column>
      </e-columns>    
      </ejs-grid>
  </div>

</div>
    
</ion-content>