<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button menu="mainMenu"></ion-menu-button>
    </ion-buttons>
    <ion-title>Goals</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid *ngIf="isLoading">
    <ion-row>
      <ion-col class="ion-text-center" size-md="6" offset-md="3">
          <ion-spinner color="primary"></ion-spinner>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid *ngIf="!isLoading">
    <!-- <ion-row>
      <ion-col class="ion-text-center" size-md="6" offset-md="3">
        <h3>Goals</h3>
      </ion-col>
    </ion-row> -->
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding" size-md="6" offset-md="3">
        <h3>{{allocatedAmount?.toLocaleString(currencyLocale, {style: 'currency', currency: currency, maximumFractionDigits: 0, minimumFractionDigits: 0})}}</h3>
        <!-- <p>as on {{currentDate.toDateString()}}</p> -->
      </ion-col>
    </ion-row>
    <ion-row class="ion-no-padding" *ngFor="let goal of userGoals">
      <ion-col class="ion-no-padding" size-md="6" offset-md="3">
        <app-goal
          [title]="goal.name"
          [value]="(goalCompletionMap.get(goal.id) || 0)/goal.amountReqd"
          itemColor="danger"
          [itemLink]="'/home/tabs/goals/goal-detail/' + goal.id"
        ></app-goal>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col size-md="6" offset-md="3">
        <app-add-new isGoal="true"></app-add-new>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
